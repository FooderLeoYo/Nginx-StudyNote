# 反向代理

## 目录

[概念](#jump1)

[最简单的反向代理](#jump2)

[其它反向代理指令](#jump3)

[](#jump)

[](#jump)

[](#jump)

---	

<span id="jump1"></span>

## 概念

### 正向代理

把不让访问的服务器的网页请求，代理到一个可以访问该网站的代理服务器上来

由代理服务器访问目标网站并拿到数据后，再转发给客户

例子：翻墙

概括：正向代理是代理服务器代理客户端，到目标服务器获取数据

### 反向代理

客户端发送网络请求后，发送的内容被发送到代理服务器上

再由代理服务器决定具体是哪个服务器为用户提供数据

概括：反向代理是代理服务器决定哪个服务器作为目标服务器，来为客户端提供数据

### 反向代理的用途和好处

- 安全性

	- 正向代理的客户端能够在隐藏自身信息的同时访问任意网站，这个给网络安全代理了极大的威胁

	- 并且用户并不知道自己访问的真实服务器是那一台，可以很好的提供安全保护

- 功能性

	- 一个网站的内容被部署在若干服务器上，从而实现服务器压力的平均分配，也叫负载均衡

	- 缓存等功能

---

<span id="jump2"></span>

## 最简单的反向代理

到etc/nginx/con.d/8001.conf进行修改

```shell
server{
        listen 80;
        server_name nginx2.jspang.com;
        location / {
               proxy_pass 反向代理目标ip或域名;
        }
}
```

---

<span id="jump3"></span>

## 其它反向代理指令

```
proxy_set_header :在将客户端请求发送给后端服务器之前，更改来自客户端的请求头信息。

proxy_connect_timeout:配置Nginx与后端代理服务器尝试建立连接的超时时间。

proxy_read_timeout : 配置Nginx向后端服务器组发出read请求后，等待相应的超时时间。

proxy_send_timeout：配置Nginx向后端服务器组发出write请求后，等待相应的超时时间。

proxy_redirect :用于修改后端服务器返回的响应头中的Location和Refresh。
```